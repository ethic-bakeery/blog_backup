{
  "version": 3,
  "sources": ["../../@swup/theme/src/index.ts", "../../@swup/fade-theme/src/index.js"],
  "sourcesContent": ["import Plugin from '@swup/plugin';\n\nexport default abstract class Theme extends Plugin {\n\t_originalAnimationSelectorOption: string = '';\n\t_addedStyleElements: Element[] = [];\n\t_addedHTMLContent: Element[] = [];\n\t_classNameAddedToElements: ({ selector: string, name: string })[] = [];\n\n\t_beforeMount() {\n\t\t// Store original animationSelector option, then replace it\n\t\tthis._originalAnimationSelectorOption = String(this.swup.options.animationSelector);\n\t\tthis.swup.options.animationSelector = '[class*=\"swup-transition-\"]';\n\n\t\t// Add classes after each content replace\n\t\tthis.swup.hooks.on('content:replace', this._addClassNameToElement);\n\t}\n\n\t_afterUnmount() {\n\t\t// Restore original animationSelector option\n\t\tthis.swup.options.animationSelector = this._originalAnimationSelectorOption;\n\n\t\t// Remove added styles\n\t\tthis._addedStyleElements.forEach((element) => {\n\t\t\telement.outerHTML = '';\n\t\t});\n\t\tthis._addedStyleElements = [];\n\n\t\t// Remove added HTML\n\t\tthis._addedHTMLContent.forEach((element) => {\n\t\t\telement.outerHTML = '';\n\t\t});\n\t\tthis._addedHTMLContent = [];\n\n\t\t// Remove added classnames\n\t\tthis._classNameAddedToElements.forEach((item) => {\n\t\t\tconst elements = Array.from(document.querySelectorAll(item.selector));\n\t\t\telements.forEach((element) => {\n\t\t\t\telement.className.split(' ').forEach((classItem) => {\n\t\t\t\t\tif (new RegExp('^swup-transition-').test(classItem)) {\n\t\t\t\t\t\telement.classList.remove(classItem);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\n\t\tthis.swup.hooks.off('content:replace', this._addClassNameToElement);\n\t}\n\n\tapplyStyles(styles: string) {\n\t\tconst style = document.createElement('style');\n\t\tstyle.setAttribute('data-swup-theme', '');\n\t\tstyle.appendChild(document.createTextNode(styles));\n\t\tdocument.head.prepend(style);\n\n\t\tthis._addedStyleElements.push(style);\n\t}\n\n\tapplyHTML(content: string) {\n\t\tconst element = document.createElement('div');\n\t\telement.innerHTML = content;\n\t\tdocument.body.appendChild(element);\n\n\t\tthis._addedHTMLContent.push(element);\n\t}\n\n\taddClassName(selector: string, name: string) {\n\t\t// save so it can be later removed\n\t\tthis._classNameAddedToElements.push({ selector, name });\n\n\t\t// add class the first time\n\t\tthis._addClassNameToElement();\n\t}\n\n\t_addClassNameToElement = () => {\n\t\tthis._classNameAddedToElements.forEach((item) => {\n\t\t\tconst elements = Array.from(document.querySelectorAll(item.selector));\n\t\t\telements.forEach((element) => {\n\t\t\t\telement.classList.add(`swup-transition-${item.name}`);\n\t\t\t});\n\t\t});\n\t};\n}\n", "import Theme from '@swup/theme';\nimport styles from './index.css';\n\nexport default class SwupFadeTheme extends Theme {\n\tname = 'SwupFadeTheme';\n\n\tdefaults = {\n\t\tmainElement: '#swup'\n\t};\n\n\tconstructor(options = {}) {\n\t\tsuper();\n\t\tthis.options = { ...this.defaults, ...options };\n\t}\n\n\tmount() {\n\t\tthis.applyStyles(styles);\n\t\tthis.addClassName(this.options.mainElement, 'main');\n\t}\n}\n"],
  "mappings": ";;;;;;AAE8B,IAAAA,IAAA,cAAcC,EAAAA;EAAMC,eAAAC,IAAAA;AAAAA,UAAAA,GAAAA,EAAAA,GAAAC,KACjDC,mCAA2C,IAAED,KAC7CE,sBAAiC,CAAA,GAAA,KACjCC,oBAA+B,CAAA,GAC/BC,KAAAA,4BAAoE,CAAA,GAmEpEC,KAAAA,yBAAyB,MAAA;AACxBL,WAAKI,0BAA0BE,QAASC,CAAAA,OAAAA;AACtBC,cAAMC,KAAKC,SAASC,iBAAiBJ,GAAKK,QAAAA,CAAAA,EAClDN,QAASO,CAAAA,OAAAA;AACjBA,UAAAA,GAAQC,UAAUC,IAAuB,mBAAAR,GAAKS,IAAAA,EAAAA;QAC/C,CAAA;MAAA,CAAA;IACA;EACD;EAxEDC,eAAAA;AAECjB,SAAKC,mCAAmCiB,OAAOlB,KAAKmB,KAAKC,QAAQC,iBAAAA,GACjErB,KAAKmB,KAAKC,QAAQC,oBAAoB,+BAGtCrB,KAAKmB,KAAKG,MAAMC,GAAG,mBAAmBvB,KAAKK,sBAAAA;EAC5C;EAEAmB,gBAAAA;AAECxB,SAAKmB,KAAKC,QAAQC,oBAAoBrB,KAAKC,kCAG3CD,KAAKE,oBAAoBI,QAASO,CAAAA,OAAAA;AACjCA,MAAAA,GAAQY,YAAY;IACrB,CAAA,GACAzB,KAAKE,sBAAsB,CAAA,GAG3BF,KAAKG,kBAAkBG,QAASO,CAAAA,OAAAA;AAC/BA,MAAAA,GAAQY,YAAY;IACrB,CAAA,GACAzB,KAAKG,oBAAoB,CAAA,GAGzBH,KAAKI,0BAA0BE,QAASC,CAAAA,OAAAA;AACtBC,YAAMC,KAAKC,SAASC,iBAAiBJ,GAAKK,QAAAA,CAAAA,EAClDN,QAASO,CAAAA,OAAAA;AACjBA,QAAAA,GAAQa,UAAUC,MAAM,GAAA,EAAKrB,QAASsB,CAAAA,OAAAA;AACjC,cAAIC,OAAO,mBAAA,EAAqBC,KAAKF,EAAAA,KACxCf,GAAQC,UAAUiB,OAAOH,EAAAA;QACzB,CAAA;MAAA,CAAA;IAEF,CAAA,GAGF5B,KAAKmB,KAAKG,MAAMU,IAAI,mBAAmBhC,KAAKK,sBAAAA;EAC7C;EAEA4B,YAAYC,IAAAA;AACX,UAAMC,KAAQzB,SAAS0B,cAAc,OAAA;AACrCD,IAAAA,GAAME,aAAa,mBAAmB,EAAA,GACtCF,GAAMG,YAAY5B,SAAS6B,eAAeL,EAAAA,CAAAA,GAC1CxB,SAAS8B,KAAKC,QAAQN,EAAAA,GAEtBnC,KAAKE,oBAAoBwC,KAAKP,EAAAA;EAC/B;EAEAQ,UAAUC,IAAAA;AACT,UAAM/B,KAAUH,SAAS0B,cAAc,KAAA;AACvCvB,IAAAA,GAAQgC,YAAYD,IACpBlC,SAASoC,KAAKR,YAAYzB,EAAAA,GAE1Bb,KAAKG,kBAAkBuC,KAAK7B,EAAAA;EAC7B;EAEAkC,aAAanC,IAAkBI,IAAAA;AAE9BhB,SAAKI,0BAA0BsC,KAAK,EAAE9B,UAAAA,IAAUI,MAAAA,GAAAA,CAAAA,GAGhDhB,KAAKK,uBAAAA;EACN;AAAA;;;;;;;;;;;;ACpEc,IAAM2C,IAAN,cAA4BC,EAAAA;EAO1CC,YAAYC,KAAU,CAAE,GAAA;AACvBC,UAAAA,GAAQC,KAPTC,OAAO,iBAEPC,KAAAA,WAAW,EACVC,aAAa,QAAA,GAKbH,KAAKF,UAAOM,EAAA,CAAA,GAAQJ,KAAKE,UAAaJ,EAAAA;EACvC;EAEAO,QAAAA;AACCL,SAAKM,YAAAA,4LAAAA,GACLN,KAAKO,aAAaP,KAAKF,QAAQK,aAAa,MAAA;EAC7C;AAAA;",
  "names": ["Theme", "Plugin", "constructor", "args", "this", "_originalAnimationSelectorOption", "_addedStyleElements", "_addedHTMLContent", "_classNameAddedToElements", "_addClassNameToElement", "forEach", "item", "Array", "from", "document", "querySelectorAll", "selector", "element", "classList", "add", "name", "_beforeMount", "String", "swup", "options", "animationSelector", "hooks", "on", "_afterUnmount", "outerHTML", "className", "split", "classItem", "RegExp", "test", "remove", "off", "applyStyles", "styles", "style", "createElement", "setAttribute", "appendChild", "createTextNode", "head", "prepend", "push", "applyHTML", "content", "innerHTML", "body", "addClassName", "SwupFadeTheme", "Theme", "constructor", "options", "super", "this", "name", "defaults", "mainElement", "_extends", "mount", "applyStyles", "addClassName"]
}
